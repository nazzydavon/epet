{"ast":null,"code":"import TelegramBot from 'node-telegram-bot-api';\n\n// Replace 'YOUR_BOT_TOKEN' with your actual bot token\nconst bot = new TelegramBot('YOUR_BOT_TOKEN', {\n  polling: true\n});\nexport const getUsername = async userId => {\n  try {\n    const user = await bot.getChat(userId);\n    return user.username || `User${userId}`;\n  } catch (error) {\n    console.error('Error getting username:', error);\n    return `User${userId}`;\n  }\n};\nexport const generateReferralLink = username => {\n  // Replace 'YOUR_BOT_USERNAME' with your actual bot username\n  return `https://t.me/YOUR_BOT_USERNAME?start=${username}`;\n};\nexport const handleStart = msg => {\n  var _msg$from, _msg$from2;\n  const chatId = msg.chat.id;\n  const username = ((_msg$from = msg.from) === null || _msg$from === void 0 ? void 0 : _msg$from.username) || `User${(_msg$from2 = msg.from) === null || _msg$from2 === void 0 ? void 0 : _msg$from2.id}`;\n  bot.sendMessage(chatId, `Welcome, ${username}! Your mining adventure begins now.`);\n};\nbot.onText(/\\/start/, handleStart);\nexport default bot;","map":{"version":3,"names":["TelegramBot","bot","polling","getUsername","userId","user","getChat","username","error","console","generateReferralLink","handleStart","msg","_msg$from","_msg$from2","chatId","chat","id","from","sendMessage","onText"],"sources":["C:/Users/JERRY/Documents/myapp/telegram-mini-app/frontend/src/telegramBot.ts"],"sourcesContent":["import TelegramBot from 'node-telegram-bot-api';\n\n// Replace 'YOUR_BOT_TOKEN' with your actual bot token\nconst bot = new TelegramBot('YOUR_BOT_TOKEN', { polling: true });\n\nexport const getUsername = async (userId: number): Promise<string> => {\n  try {\n    const user = await bot.getChat(userId);\n    return user.username || `User${userId}`;\n  } catch (error) {\n    console.error('Error getting username:', error);\n    return `User${userId}`;\n  }\n};\n\nexport const generateReferralLink = (username: string): string => {\n  // Replace 'YOUR_BOT_USERNAME' with your actual bot username\n  return `https://t.me/YOUR_BOT_USERNAME?start=${username}`;\n};\n\nexport const handleStart = (msg: TelegramBot.Message) => {\n  const chatId = msg.chat.id;\n  const username = msg.from?.username || `User${msg.from?.id}`;\n  \n  bot.sendMessage(chatId, `Welcome, ${username}! Your mining adventure begins now.`);\n};\n\nbot.onText(/\\/start/, handleStart);\n\nexport default bot;"],"mappings":"AAAA,OAAOA,WAAW,MAAM,uBAAuB;;AAE/C;AACA,MAAMC,GAAG,GAAG,IAAID,WAAW,CAAC,gBAAgB,EAAE;EAAEE,OAAO,EAAE;AAAK,CAAC,CAAC;AAEhE,OAAO,MAAMC,WAAW,GAAG,MAAOC,MAAc,IAAsB;EACpE,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,OAAO,CAACF,MAAM,CAAC;IACtC,OAAOC,IAAI,CAACE,QAAQ,IAAI,OAAOH,MAAM,EAAE;EACzC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,OAAOJ,MAAM,EAAE;EACxB;AACF,CAAC;AAED,OAAO,MAAMM,oBAAoB,GAAIH,QAAgB,IAAa;EAChE;EACA,OAAO,wCAAwCA,QAAQ,EAAE;AAC3D,CAAC;AAED,OAAO,MAAMI,WAAW,GAAIC,GAAwB,IAAK;EAAA,IAAAC,SAAA,EAAAC,UAAA;EACvD,MAAMC,MAAM,GAAGH,GAAG,CAACI,IAAI,CAACC,EAAE;EAC1B,MAAMV,QAAQ,GAAG,EAAAM,SAAA,GAAAD,GAAG,CAACM,IAAI,cAAAL,SAAA,uBAARA,SAAA,CAAUN,QAAQ,KAAI,QAAAO,UAAA,GAAOF,GAAG,CAACM,IAAI,cAAAJ,UAAA,uBAARA,UAAA,CAAUG,EAAE,EAAE;EAE5DhB,GAAG,CAACkB,WAAW,CAACJ,MAAM,EAAE,YAAYR,QAAQ,qCAAqC,CAAC;AACpF,CAAC;AAEDN,GAAG,CAACmB,MAAM,CAAC,SAAS,EAAET,WAAW,CAAC;AAElC,eAAeV,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}